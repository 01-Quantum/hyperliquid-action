import"./modulepreload-polyfill-B5Qt9EMX.js";import{ethers as i}from"https://cdnjs.cloudflare.com/ajax/libs/ethers/6.13.2/ethers.js";const h=await fetch("./QONEV2.json").then(e=>e.json()),b=await fetch("./TokenVestingV2.json").then(e=>e.json()),C={chainId:"0x3e7",chainName:"Hyperliquid Mainnet",nativeCurrency:{name:"HYPE",symbol:"HYPE",decimals:18},rpcUrls:["https://rpc.hyperliquid.xyz/evm"],blockExplorerUrls:["https://purrsec.com"]};let d,E;async function k(){if(!window.ethereum)return alert("Please install MetaMask");try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[C]});const e=await window.ethereum.request({method:"eth_requestAccounts"});d=new i.BrowserProvider(window.ethereum),E=await d.getSigner(),document.getElementById("accountDisplay").textContent=`Connected: ${e[0]}`,document.getElementById("connectBtn").style.display="none",document.getElementById("qoneOwner").value=e[0],document.getElementById("vestingOwner").value=e[0]}catch(e){console.error(e),alert("Failed to connect: "+e.message)}}async function T(e,t,o,m){const n=document.getElementById(m);n.className="status info",n.textContent=`Deploying ${e}...`;try{const a=await new i.ContractFactory(t.abi,t.bytecode.object,E).deploy(...o);n.innerHTML=`Transaction sent! Waiting for confirmation...<br>
          <div class="result-item"><span class="result-label">TX ID:</span>${a.deploymentTransaction().hash}</div>`,await a.waitForDeployment();const u=await a.getAddress(),p=await a.deploymentTransaction(),B=await d.getTransactionReceipt(p.hash);n.innerHTML=`<span style="color: #4ade80; font-weight: bold;">${e} Deployed Successfully!</span><br>
          <div class="result-item"><span class="result-label">Address:</span>${u}</div>
          <div class="result-item"><span class="result-label">Nonce:</span>${p.nonce}</div>
          <div class="result-item"><span class="result-label">TX ID:</span>${p.hash}</div>
          <button class="check-btn" data-address="${u}" data-type="${t===h?"qone":"vesting"}" style="margin-top: 12px; background: var(--accent-dim); color: var(--accent); border: 1px solid var(--accent);">Check Contract State</button>
          <div class="check-results" style="margin-top: 12px; font-family: monospace; font-size: 12px; color: var(--text-muted);"></div>`;const c=n.querySelector(".check-btn"),r=n.querySelector(".check-results");c.onclick=async()=>{c.disabled=!0,r.textContent="Checking...";try{const s=new i.Contract(u,t.abi,d);if(c.dataset.type==="qone"){const[y,l,g]=await Promise.all([s.name(),s.totalSupply(),s.owner()]);r.innerHTML=`
                <div>Name: ${y}</div>
                <div>Total Supply: ${i.formatUnits(l,18)} QONE</div>
                <div>Owner: ${g}</div>
              `}else{const[y,l]=await Promise.all([s.owner(),s.tgeTimestamp()]),g=new Date(Number(l)*1e3);r.innerHTML=`
                <div>Owner: ${y}</div>
                <div>TGE (Seconds): ${l}</div>
                <div>TGE (UTC): ${g.toUTCString()}</div>
              `}}catch(s){r.textContent="Error checking state: "+s.message}c.disabled=!1}}catch(v){n.className="status error",n.textContent=`Error: ${v.message}`}}document.getElementById("connectBtn").onclick=k;document.getElementById("deployQone").onclick=async()=>{const e=document.getElementById("qoneOwner").value,t=document.getElementById("qoneAuthorizer").value;if(!e||!t)return alert("Please fill all fields");await T("QONEV2",h,[e,t],"qoneStatus")};document.getElementById("deployVesting").onclick=async()=>{const e=document.getElementById("vestingToken").value,t=document.getElementById("vestingTge").value,o=document.getElementById("vestingOwner").value;if(!e||!t||!o)return alert("Please fill all fields");const m=Math.floor(new Date(t+"Z").getTime()/1e3);await T("TokenVestingV2",b,[e,m,o],"vestingStatus")};const f=document.getElementById("vestingTge"),w=document.getElementById("tgeSeconds");function I(){const e=f.value;if(e){const t=Math.floor(new Date(e+"Z").getTime()/1e3);w.textContent=`Unix Timestamp: ${t}s`}else w.textContent=""}f.addEventListener("input",I);I();
